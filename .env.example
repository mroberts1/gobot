# ============================================================
# Gobot - Environment Variables
# ============================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# Deployment modes:
#   LOCAL ONLY   — Run on your desktop with Claude Code CLI (uses your subscription)
#   VPS ONLY     — Run on a cloud server with Anthropic API (pay-per-token)
#   HYBRID       — VPS always on, forwards to local when awake (recommended)
# ============================================================

# --- REQUIRED ---

# Telegram Bot (from @BotFather)
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_USER_ID=your_telegram_user_id

# Your name (used in prompts and voice calls)
USER_NAME=Your Name

# Bot name (the name your bot uses for itself)
BOT_NAME=Go

# Your timezone (IANA format: America/New_York, Europe/Berlin, etc.)
USER_TIMEZONE=UTC

# Claude Code CLI path (usually auto-detected, local mode only)
# CLAUDE_PATH=claude

# --- REQUIRED: Supabase (persistent memory) ---

SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key
# Note: Supabase now calls this "Publishable key" in the dashboard.
# It may start with "eyJ..." (legacy) or "sb_publishable_..." (new format). Both work.

# Service role key gives full access (bypasses RLS) - recommended for server use
# Supabase now calls this "Secret key" — may start with "eyJ..." or "sb_secret_..."
# SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# --- VPS MODE ---
# Required when running the VPS gateway (bun run vps)
# Uses Anthropic Messages API directly — no Claude Code subprocess needed.
# Cost: ~$3/1M input tokens, ~$15/1M output tokens (Sonnet)

# Anthropic API key (get from console.anthropic.com)
# ANTHROPIC_API_KEY=sk-ant-api03-your_key_here

# Model to use (default: claude-sonnet-4-5-20250929)
# ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# --- AGENT SDK (VPS) ---
# Enables full Claude Code capabilities on VPS for Sonnet/Opus requests.
# When false or missing, all VPS requests use direct Anthropic API (legacy mode).
# Haiku requests always use direct API regardless of this setting.
# USE_AGENT_SDK=true

# Daily API budget (USD) — auto-downgrades Opus to Sonnet when running low.
# Only relevant when using the Anthropic API (VPS mode).
#
# Budget guidance:
#   $5   — Minimum viable. Opus requests will downgrade to Sonnet quickly.
#   $15  — Recommended for moderate use (5-10 Opus conversations/day).
#   $50+ — Heavy use with frequent Opus/research tasks.
#
# A single complex Opus conversation can cost $3-5. If budget feels tight,
# increase this value — the bot will use cheaper models when budget runs low.
# DAILY_API_BUDGET=15.00

# --- HYBRID MODE ---
# When VPS detects your local machine is online, it forwards messages there.
# Local machine processes with Claude Code CLI (uses your subscription authentication).

# URL for local machine's health check (via Cloudflare Tunnel, ngrok, etc.)
# MAC_HEALTH_URL=https://your-tunnel.example.com/health

# URL for local machine's message processing endpoint
# MAC_PROCESS_URL=https://your-tunnel.example.com/process

# Shared secret between VPS and local machine
# GATEWAY_SECRET=your_shared_secret

# Node identifier (default: "vps" on server, "local" on desktop)
# NODE_ID=vps

# --- AUTO-DEPLOY (VPS) ---
# GitHub webhook secret for automatic deployment on push
# DEPLOY_SECRET=your_github_webhook_secret
# DEPLOY_BRANCH=refs/heads/master
# DEPLOY_SCRIPT=deploy.sh

# --- OPTIONAL: Morning Briefing Data Sources ---
# Sources auto-enable when their env vars are set.
# Run: bun run setup/setup-google-oauth.ts to get Google tokens.

# AI News (xAI Grok API)
# XAI_API_KEY=your_xai_key

# Google Services (Gmail + Calendar)
# GOOGLE_CLIENT_ID=your_client_id
# GOOGLE_CLIENT_SECRET=your_client_secret
# GOOGLE_REFRESH_TOKEN=your_refresh_token

# Notion Tasks
# NOTION_TOKEN=your_notion_integration_token
# NOTION_DATABASE_ID=your_tasks_database_id

# --- OPTIONAL: Semantic Search (Edge Functions) ---
# OpenAI key for generating embeddings (text-embedding-3-small)
# Without this, the bot uses basic text search instead of semantic search
# Get a key from https://platform.openai.com

# OPENAI_API_KEY=sk-your-openai-key-here
# Also used for generating asset embeddings (image search/recall)

# --- OPTIONAL: Fallback LLMs (local mode) ---
# When Claude Code auth fails, these provide backup responses

# OpenRouter (cloud fallback - recommended)
# OPENROUTER_API_KEY=your_openrouter_key
# OPENROUTER_MODEL=moonshotai/kimi-k2.5

# Ollama (local fallback)
# OLLAMA_MODEL=qwen3-coder

# Set to true to skip OpenRouter and only use Ollama (fully offline mode)
# FALLBACK_OFFLINE_ONLY=true

# --- OPTIONAL: Voice & Transcription ---
# Gemini handles BOTH transcription (speech-to-text) AND voice replies (text-to-speech).
# Same API key, both free via Gemini 2.5 Flash free tier.

# GEMINI_API_KEY=your_gemini_key
# GEMINI_TTS_VOICE=Kore
# Available voices: Zephyr (bright), Puck (upbeat), Charon (informative), Kore (firm),
#   Fenrir (excitable), Leda (youthful), Aoede (breezy), Orus (firm), and 22 more.
#   Full list: https://ai.google.dev/gemini-api/docs/speech-generation

# --- OPTIONAL: Phone Calls ---
# ElevenLabs Conversational AI + Twilio for outbound AI phone calls

# ELEVENLABS_API_KEY=your_key
# ELEVENLABS_AGENT_ID=your_agent_id
# ELEVENLABS_PHONE_NUMBER_ID=your_phone_number_id
# USER_PHONE_NUMBER=+1234567890

# --- OPTIONAL: Transcript Extraction ---
# Supadata: YouTube (and TikTok/Instagram) transcript extraction
# https://dash.supadata.ai
# Auto-enriches messages containing YouTube URLs with transcript context.
# Also enables /transcript <url> command.
# SUPADATA_API_KEY=your_key

# --- OPTIONAL: Image & Video Generation ---
# Both providers add models to /imagine and /video buttons. Use one or both.

# Replicate: flux-schnell, flux-dev, seedance, ltx-2, veo-3.1, veo-3.1-fast
# https://replicate.com/account/api-tokens
# REPLICATE_API_TOKEN=your_replicate_token

# fal.ai: flux-2, flux-2-max, nano-banana, imagen-4, veo-3.1, kling-3, seedance-pro
# https://fal.ai/dashboard/keys
# FAL_KEY=your_fal_key

# --- SYSTEM ---
# HTTP server port (default: 3000)
# PORT=3000

# Updated February 19, 2026: Clarified deployment modes and authentication following Anthropic's January 2026 ToS enforcement.
